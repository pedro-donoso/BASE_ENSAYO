{"remainingRequest":"C:\\Users\\admin\\Desktop\\ensayo_martes\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\ensayo_martes\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\admin\\Desktop\\ensayo_martes\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\ensayo_martes\\src\\views\\Busqueda.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\ensayo_martes\\src\\views\\Busqueda.vue","mtime":1595382976000},{"path":"C:\\Users\\admin\\Desktop\\ensayo_martes\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\ensayo_martes\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\ensayo_martes\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\ensayo_martes\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL2FkbWluL0Rlc2t0b3AvZW5zYXlvX21hcnRlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQnVzcXVlZGEiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2YWx1ZTogIiIsCiAgICAgIGNvbnRleHQ6IG51bGwsCiAgICAgIGluZGljYWRvcjogIiIsCiAgICAgIGNvdGl6YWNpb246ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsic2V0Q290aXphY2lvbiJdKSksIHt9LCB7CiAgICBvbkNvbnRleHQ6IGZ1bmN0aW9uIG9uQ29udGV4dChjdHgpIHsKICAgICAgdGhpcy5jb250ZXh0ID0gY3R4OwogICAgfSwKICAgIGJ1c2NhckNvdGl6YWNpb246IGZ1bmN0aW9uIGJ1c2NhckNvdGl6YWNpb24oKSB7CiAgICAgIHZhciBkYXkgPSBuZXcgRGF0ZSh0aGlzLnZhbHVlKS5nZXREYXkoKTsKICAgICAgdGhpcy5pbmRpY2Fkb3IgPT09ICJiaXRjb2luIiA/IHRoaXMuY29uc3VsdGFBeGlvcygpIDogZGF5ID09PSA1IHx8IGRheSA9PT0gNiA/IGFsZXJ0KCJTb2xvIHB1ZWRlcyBjb25zdWx0YXIgZGlhcyBkZSBzZW1hbmEgcGFyYSAiICsgdGhpcy5pbmRpY2Fkb3IpIDogdGhpcy5jb25zdWx0YUF4aW9zKCk7CiAgICB9LAogICAgY29uc3VsdGFBeGlvczogZnVuY3Rpb24gY29uc3VsdGFBeGlvcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCgiaHR0cHM6Ly9taW5kaWNhZG9yLmNsL2FwaS8iLmNvbmNhdCh0aGlzLmluZGljYWRvciwgIi8iKS5jb25jYXQodGhpcy5mZWNoYSkpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBpZiAoZGF0YS5kYXRhLnNlcmllLmxlbmd0aCA+IDApIHsKICAgICAgICAgIF90aGlzLmNvdGl6YWNpb24gPSBkYXRhLmRhdGEuc2VyaWVbMF0udmFsb3I7CgogICAgICAgICAgX3RoaXMuc2V0Q290aXphY2lvbih7CiAgICAgICAgICAgIGZlY2hhOiBfdGhpcy5mZWNoYSwKICAgICAgICAgICAgaW5kaWNhZG9yOiBfdGhpcy5pbmRpY2Fkb3IsCiAgICAgICAgICAgIHZhbG9yOiBkYXRhLmRhdGEudW5pZGFkX21lZGlkYSA9PSAiRMOzbGFyIiA/IGRhdGEuZGF0YS5zZXJpZVswXS52YWxvciAqIF90aGlzLmRvbGFyIDogX3RoaXMuY290aXphY2lvbiwKICAgICAgICAgICAgdGltZTogbmV3IERhdGUoX3RoaXMudmFsdWUpLmdldFRpbWUoKQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCJObyBoYXkgcmVnaXN0cm8gZGUgZGF0b3MgcGFyYSAiICsgX3RoaXMuaW5kaWNhZG9yICsgIiBlbiBlc3RhIGZlY2hhIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9KSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsiaW5kaWNhZG9yZXMiXSkpLCBtYXBHZXR0ZXJzKFsiZG9sYXIiXSkpLCB7fSwgewogICAgZmVjaGE6IGZ1bmN0aW9uIGZlY2hhKCkgewogICAgICB2YXIgeWVhciA9IHRoaXMudmFsdWUuc2xpY2UoMCwgNCk7CiAgICAgIHZhciBtb250aCA9IHRoaXMudmFsdWUuc2xpY2UoNSwgNyk7CiAgICAgIHZhciBkYXRlID0gdGhpcy52YWx1ZS5zbGljZSg4LCAxMCk7CiAgICAgIHJldHVybiAiIi5jb25jYXQoZGF0ZSwgIi0iKS5jb25jYXQobW9udGgsICItIikuY29uY2F0KHllYXIpOwogICAgfQogIH0pCn07"},{"version":3,"sources":["Busqueda.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAmBA,SAAA,QAAA,EAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA,MAAA,UAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAAA,kCACA,UAAA,CAAA,CAAA,eAAA,CAAA,CADA;AAEA,IAAA,SAFA,qBAEA,GAFA,EAEA;AACA,WAAA,OAAA,GAAA,GAAA;AACA,KAJA;AAKA,IAAA,gBALA,8BAKA;AACA,UAAA,GAAA,GAAA,IAAA,IAAA,CAAA,KAAA,KAAA,EAAA,MAAA,EAAA;AACA,WAAA,SAAA,KAAA,SAAA,GACA,KAAA,aAAA,EADA,GAEA,GAAA,KAAA,CAAA,IAAA,GAAA,KAAA,CAAA,GACA,KAAA,CAAA,+CAAA,KAAA,SAAA,CADA,GAEA,KAAA,aAAA,EAJA;AAKA,KAZA;AAaA,IAAA,aAbA,2BAaA;AAAA;;AACA,MAAA,KAAA,CACA,GADA,qCACA,KAAA,SADA,cACA,KAAA,KADA,GAEA,IAFA,CAEA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,EAAA,KAAA;;AACA,UAAA,KAAA,CAAA,aAAA,CAAA;AACA,YAAA,KAAA,EAAA,KAAA,CAAA,KADA;AAEA,YAAA,SAAA,EAAA,KAAA,CAAA,SAFA;AAGA,YAAA,KAAA,EACA,IAAA,CAAA,IAAA,CAAA,aAAA,IAAA,OAAA,GACA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,EAAA,KAAA,GAAA,KAAA,CAAA,KADA,GAEA,KAAA,CAAA,UANA;AAOA,YAAA,IAAA,EAAA,IAAA,IAAA,CAAA,KAAA,CAAA,KAAA,EAAA,OAAA;AAPA,WAAA;AASA,SAXA,MAWA;AACA,UAAA,KAAA,CACA,mCACA,KAAA,CAAA,SADA,GAEA,gBAHA,CAAA;AAKA;AACA,OArBA;AAsBA;AApCA,IAVA;AAgDA,EAAA,QAAA,gDACA,QAAA,CAAA,CAAA,aAAA,CAAA,CADA,GAEA,UAAA,CAAA,CAAA,OAAA,CAAA,CAFA;AAGA,IAAA,KAHA,mBAGA;AACA,UAAA,IAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,UAAA,IAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,CAAA,EAAA,EAAA,CAAA;AACA,uBAAA,IAAA,cAAA,KAAA,cAAA,IAAA;AACA;AARA;AAhDA,CAAA","sourcesContent":["<template>\n  <div id=\"Busqueda\">\n    <b-calendar v-model=\"value\" @context=\"onContext\" locale=\"en-US\"></b-calendar>\n    <br />\n    <select v-model=\"indicador\">\n      <option\n        v-for=\"(indicador,i) in indicadores\"\n        :key=\"i\"\n        :value=\"indicador.codigo\"\n      >{{indicador.codigo}}</option>\n    </select>\n    <br />\n    <button class=\"btn btn-info\" @click=\"buscarCotizacion\">Buscar</button>\n    <br />\n    <h2>Cotización de la busqueda: ${{cotizacion}}</h2>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions, mapGetters } from \"vuex\";\nimport axios from \"axios\";\nexport default {\n  name: \"Busqueda\",\n  data() {\n    return {\n      value: \"\",\n      context: null,\n      indicador: \"\",\n      cotizacion: \"\"\n    };\n  },\n  methods: {\n    ...mapActions([\"setCotizacion\"]),\n    onContext(ctx) {\n      this.context = ctx;\n    },\n    buscarCotizacion() {\n      let day = new Date(this.value).getDay();\n      this.indicador === \"bitcoin\"\n        ? this.consultaAxios()\n        : day === 5 || day === 6\n        ? alert(\"Solo puedes consultar dias de semana para \" + this.indicador)\n        : this.consultaAxios();\n    },\n    consultaAxios() {\n      axios\n        .get(`https://mindicador.cl/api/${this.indicador}/${this.fecha}`)\n        .then(data => {\n          if (data.data.serie.length > 0) {\n            this.cotizacion = data.data.serie[0].valor;\n            this.setCotizacion({\n              fecha: this.fecha,\n              indicador: this.indicador,\n              valor:\n                data.data.unidad_medida == \"Dólar\"\n                  ? data.data.serie[0].valor * this.dolar\n                  : this.cotizacion,\n              time: new Date(this.value).getTime()\n            });\n          } else {\n            alert(\n              \"No hay registro de datos para \" +\n                this.indicador +\n                \" en esta fecha\"\n            );\n          }\n        });\n    }\n  },\n  computed: {\n    ...mapState([\"indicadores\"]),\n    ...mapGetters([\"dolar\"]),\n    fecha() {\n      let year = this.value.slice(0, 4);\n      let month = this.value.slice(5, 7);\n      let date = this.value.slice(8, 10);\n      return `${date}-${month}-${year}`;\n    }\n  }\n};\n</script>\n"],"sourceRoot":"src/views"}]}